.metro-map{
    @extend .paper;
    min-height:20vh;
    margin:20px 0px;
    font-size: 0px;
    padding:40px 0px 120px;
    
    .inner{
        max-width: 1200px;
        padding:0px 20px;
        margin:0px auto;
        position:relative;
    }
    
    h1{
        text-align: center;
        color:$blue;
        font-weight: bold;
        margin-bottom:35px;
    }
    
    .top{
        height:100px;
        width:100%;
        @media only screen and(min-width:640px){height:160px;}
        
        @media only screen and(min-width:840px){ width:65%;}
        margin:auto;
        position: relative;
        
        &:before{
            content: '';
            border-radius: 30px;
            border: 4px solid $metro-g-1;
            position: absolute;
            z-index: 1;
            top: 50%;
            left: 16.666666%;
            width: 33.333333%;
            height: 150px;
            box-sizing: border-box;
            border-right:none;
        }
        
        &:after{
            content: '';
            border-radius: 30px;
            border: 4px solid $metro-g-3;
            position: absolute;
            z-index: 1;
            top: 50%;
            left: 50%;
            border-left: none;
            width: 33.333333%;
            height: 150px;
            box-sizing: border-box; 
        }

    }
    
     .metro-ikon-tekst{
        display: block;
        width: 110px;
        height:70px;
       
        @media only screen and(min-width:640px){
            width: 145px;
            height:100px; 
        }
         
        margin:auto;
         position: relative;
         z-index:3;
         
    }
    
    .map{
        width:100%;
        @media only screen and(min-width:840px){ width:65%;}
        margin:auto;
        display: block;
        @media only screen and(min-width:640px){
        }
        
        position:relative;
        z-index:2;
        
        &:before{
            content:'';
            border-radius: 30px;
            background:$metro-g-2;
            position:absolute;
            z-index:2;
            height:100px;
            top:-100px;
            left:50%;
            width:4px;
            
         }
    }
    
    .map h3{
        text-align: center;
        height:60px;
        line-height: 60px;
        font-size:18px;
        @media only screen and(min-width:640px){
            height:80px;
             line-height: 80px;
            font-size:24px;
        }
       
        background:$metro-g-1;
    }

    
    .year{
        position:relative;
        display: inline-block;
        width:100%;
        border-bottom: 10px solid;
        @media only screen and(min-width:640px){
        
            width:33.33333%;
            
        }
        
        &:nth-child(2) h3{
            background:$metro-g-2;
        }
        
        &:nth-child(3) h3{
            background:$metro-g-3;
        }
        
    }
    
    .year-1{
        border-bottom-color:$metro-g-1;
        padding-bottom: 0px;
        background:$metro-g-light-1;
    }
    .year-2{
        border-bottom-color:$metro-g-2;
        padding-bottom: 40px;
        background:$metro-g-light-2;
    }
    .year-3{
        border-bottom-color:$metro-g-3;
        padding-bottom: 80px;
        background:$metro-g-light-3;
    }
    
    .route{
        display:flex;
        position:relative;
        height:60px;
        @media only screen and(min-width:640px){
            height:80px;
        }
        vertical-align: top;
        align-items: stretch;
        justify-content: space-around;
        
        
        &:before{
            z-index:1;
            content: '';
            display: block;
            width: 100%;
            position: absolute;
            height: 4px;
            left: 0;
            top: 50%;
            transform: translate(0,-50%);
        }
    }
    
    .station{
        flex-grow: 1;
        position: relative;
        
        span{
            z-index:2;
            position:absolute;
            display: block;
            top:50%;
            left:50%;
            transform: translate(-50%,-50%);
            width:20px;
            height:20px;
            border:2px solid #f0f0f0;
            border-radius: 20px;
            box-shadow:1px 1px 5px rgba(0,0,0,.1);
        }
    }
    
    aside.left{
        position:absolute;
        display: none;
        @media only screen and(min-width:840px){
        
            display: block;
            
        }
        
        bottom:10px;
        left:20px;
        width:17%;
        height: 400px;
        
            &:before{
                content: '';
                position: absolute;
                display: block;
                width: 200px;
                height: 76px;
                border: 4px solid $metro-srp;
                border-radius: 30px;
                left: 55%;
                top: 118px;
            }

            &:after{
                content:'';
                position:absolute;
                display: block;
                width:200px;
                height:76px;
                border: 4px solid $metro-ss;
                border-radius: 30px;
                left:55%;
                top:198px;

            }
        
        svg{
            width:90px;
            height:90px;
            position:absolute;
            left:50%;
            top:50%;
            transform:translate(-50%,-50%);
            z-index:3;
            
        }
        
        >span{
            display: block;
            position: relative;
            z-index:1;
        }
        
        
        span.routes-top{
            &:before{
                display: block;
                content: '';
                border: 4px solid #5082bd;
                border-radius: 30px;
                height: 156px;
                width: 150%;
                top: 38px;
                position: absolute;
                z-index: 1;
                left: 0px;
            }

            &:after{
                display: block;
                position: absolute;
                content: '';
                top: 198px;
                width: 50%;
                height: 4px;
                background: $metro-us;
                z-index: 2;
                left: 50%;

            }
        }
        
        span.routes-bottom{
            &:before{
                position: absolute;
                content: '';
                background: transparent;
                border: 4px solid #662099;
                width: 50%;
                height: 150px;
                top: 238px;
                left: 44%;
                border-radius: 0px 0px 0px 30px;
                border-top-color: transparent;
                border-right-color: transparent;
            }
        }

    }
    
    aside.right{
        z-index:1;
        position: absolute;
        display: none;
        @media only screen and(min-width:840px){display: block;}
        
        width: 17%;
        bottom: 10px;
        right: 20px;
        
        .route span {
            box-sizing: border-box;
            text-transform: uppercase;
            font-weight: bold;
            color:$darkgrey;
            display: block;
            font-size: 22px;
            width: 130px;
            right: 0;
            position: absolute;
            text-align: center;
            background: white;
            height: 60px;
            z-index: 2;
            top: 10px;
            line-height: 60px;
            border-width: 3px;
            border-style: solid;
            border-radius: 5px;
            box-shadow: 1px 1px 10px rgba(0,0,0,.2);
        }
        
        .route-51 span,
        .route-52 span,
        .route-53 span,
        .route-62 span,
        .route-63 span,
        .route-64 span{
            font-size:13px;
            line-height:1.2;
            padding-top:13px;
        }
        
    }
    
}

span.route-bottom {
    position: absolute;
    width: 100%;
    left: 0;
    bottom: -60px;
    text-align: center;
    
    &:before{
        background:transparent;
        content: '';
        position: absolute;
        left: -81.6%;
        border: 4px solid #662099;
        bottom: 30px;
        width: 60%;
        height: 40px;
        border-radius: 0px 30px 0px 0px;
        border-bottom-color: transparent;
        border-left-color: transparent;
    }
    
    &:after{
        content: '';
        position: absolute;
        right: -81.6%;
        border: 4px solid #662099;
        bottom: 64px;
        width: 60%;
        height: 40px;
        border-radius: 30px 0px 0px 0px;
        border-bottom-color: transparent;
        border-right-color: transparent;
    }
    
    .station {
        
        width: 100%;
        display: block;
        height: 4px;
        
        &:before{
            content: '';
            position: absolute;
            left: -20%;
            border: 4px solid #662099;
            bottom: 0;
            width: 25%;
            height: 30px;
            border-radius: 0px 0px 0px 30px;
            border-top-color: transparent;
            border-right-color: transparent;
        }
        
        &:after{
            content: '';
            position: absolute;
            right: -20%;
            border: 4px solid #662099;
            bottom: 0;
            width: 25%;
            height: 60px;
            border-radius: 0px 0px 30px 0px;
            border-top-color: transparent;
            border-left-color: transparent;
        }
            
       
        
        span{
            width:30px;
            height:30px;
        }
    }
    
    @media only screen and(min-width:640px){
        
        width:40%;
        left:30%;
    
    }
    
}

span.route-bottom .station span:before{
    left:15px;
    bottom:40px;
}

span.route-bottom .station span:after{
    bottom: 32px;
    left: 15px;
}

span.route-bottom .station:hover span:after{
    bottom: 28px;
}

.metro-map .station {
    
    
    span:before{
        
        content: attr(title);
        position: absolute;
        z-index:1;
        font-size: 0px;
        line-height: 1.1;
        padding: 0px;
        box-sizing: border-box;
        width: auto;
        left: 10px;
        text-align: center;
        bottom: 30px;
        background: inherit;
        display: block;
        transform: translate(-50%, 0);
        border:none;
        border-color: inherit;
        color: white;
        box-shadow: 2px 2px 5px rgba(black,.3);
        white-space: nowrap;
        transition:font-size .05s, padding .05s, border .05s;
    }
    
    span:after{
        width: 0px;
        height: 0px;
        transition: width .05s, height .05s;
        content:'';
        bottom: 23px;
        left: 10px;
    }
    
    
    &:hover span:before{
        font-size: 13px;
        padding: 12px 10px;
        border: 2px solid;
        transition:font-size .2s, padding .1s, border .05s;
        transition-delay:.05s;
    }
    
    &:hover span:after{
        position: absolute;
        z-index: 2;
        content: '';
        width: 10px;
        height: 10px;
        background: inherit;
        border: inherit;
        transform: translate(-50%,-50%) rotate(45deg);
        bottom: 18px;
        border-top-color: transparent;
        border-left-color: transparent;
        transition: width .1s, height .1s, bottom .2s;
        transition-delay: .05s;
    }
    
}